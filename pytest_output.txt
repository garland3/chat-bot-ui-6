============================= test session starts =============================
platform win32 -- Python 3.12.10, pytest-8.4.1, pluggy-1.6.0 -- C:\Users\garla\git\chat-data-mcp-tools-ui\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\garla\git\chat-data-mcp-tools-ui
configfile: pytest.ini
plugins: anyio-4.9.0, asyncio-1.0.0, mock-3.14.1, timeout-2.4.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
timeout: 60.0s
timeout method: thread
timeout func_only: False
collecting ... collected 56 items

tests/test_auth.py::test_auth_middleware_with_header PASSED              [  1%]
tests/test_auth.py::test_auth_middleware_test_mode PASSED                [  3%]
tests/test_auth.py::test_auth_middleware_unauthorized PASSED             [  5%]
tests/test_chat.py::test_chat_message_llm_disabled PASSED                [  7%]
tests/test_chat.py::test_chat_message_llm_enabled_streaming PASSED       [  8%]
tests/test_chat.py::test_chat_message_tool_call PASSED                   [ 10%]
tests/test_chat.py::test_conversation_persistence PASSED                 [ 12%]
tests/test_chat.py::test_get_llms_endpoint PASSED                        [ 14%]
tests/test_chat.py::test_download_chat_session PASSED                    [ 16%]
tests/test_config.py::test_config_loading PASSED                         [ 17%]
tests/test_container_integration.py::test_health_endpoint_container PASSED [ 19%]
tests/test_container_integration.py::test_create_chat_session_container PASSED [ 21%]
tests/test_container_integration.py::test_chat_message_flow_container PASSED [ 23%]
tests/test_container_integration.py::test_tool_call_flow_container PASSED [ 25%]
tests/test_container_integration.py::test_llm_selection_container PASSED [ 26%]
tests/test_container_integration.py::test_chat_download_container PASSED [ 28%]
tests/test_data.py::test_get_customers_data PASSED                       [ 30%]
tests/test_data.py::test_get_products_data PASSED                        [ 32%]
tests/test_data.py::test_get_nonexistent_data_source PASSED              [ 33%]
tests/test_data.py::test_get_data_unauthorized PASSED                    [ 35%]
tests/test_health.py::test_health_check PASSED                           [ 37%]
tests/test_health.py::test_llm_health_check_success PASSED               [ 39%]
tests/test_health.py::test_llm_health_check_failure PASSED               [ 41%]
tests/test_health.py::test_llm_health_check_disabled PASSED              [ 42%]
tests/test_health.py::test_system_prompt_from_file PASSED                [ 44%]
tests/test_health.py::test_system_prompt_from_override PASSED            [ 46%]
tests/test_health.py::test_system_prompt_default_if_file_not_found PASSED [ 48%]
tests/test_integration.py::test_full_chat_interaction_with_math_tool PASSED [ 50%]
tests/test_integration.py::test_full_chat_interaction_with_user_lookup_tool PASSED [ 51%]
tests/test_integration.py::test_full_chat_interaction_with_sql_query_tool PASSED [ 53%]
tests/test_integration.py::test_full_chat_interaction_with_code_execution_tool PASSED [ 55%]
tests/test_llm_config_manager.py::test_llm_config_manager_loads_configs PASSED [ 57%]
tests/test_llm_config_manager.py::test_llm_config_manager_resolves_env_vars PASSED [ 58%]
tests/test_llm_config_manager.py::test_llm_config_manager_get_llm_config PASSED [ 60%]
tests/test_llm_config_manager.py::test_llm_config_manager_get_all_llm_names PASSED [ 62%]
tests/test_llm_config_manager.py::test_llm_config_manager_file_not_found PASSED [ 64%]
tests/test_llm_config_manager.py::test_llm_config_manager_invalid_format PASSED [ 66%]
tests/test_llm_config_manager.py::test_llm_config_manager_llm_not_found PASSED [ 67%]
tests/test_llm_real.py::test_real_llm_call SKIPPED (LLM API key not
configured or is a placeholder. Skipping real LLM test.)                 [ 69%]
tests/test_session.py::test_create_chat_session PASSED                   [ 71%]
tests/test_session.py::test_rate_limiting PASSED                         [ 73%]
tests/test_session.py::test_update_session_tools PASSED                  [ 75%]
tests/test_session_logger.py::test_log_session_event PASSED              [ 76%]
tests/test_tools.py::test_basic_math_tool_add PASSED                     [ 78%]
tests/test_tools.py::test_basic_math_tool_subtract PASSED                [ 80%]
tests/test_tools.py::test_basic_math_tool_multiply PASSED                [ 82%]
tests/test_tools.py::test_basic_math_tool_divide PASSED                  [ 83%]
tests/test_tools.py::test_basic_math_tool_divide_by_zero PASSED          [ 85%]
tests/test_tools.py::test_basic_math_tool_invalid_operation PASSED       [ 87%]
tests/test_tools.py::test_code_execution_tool PASSED                     [ 89%]
tests/test_tools.py::test_user_lookup_tool_found PASSED                  [ 91%]
tests/test_tools.py::test_user_lookup_tool_not_found PASSED              [ 92%]
tests/test_tools.py::test_sql_query_tool_select PASSED                   [ 94%]
tests/test_tools.py::test_sql_query_tool_invalid_query PASSED            [ 96%]
tests/test_tools.py::test_sql_query_tool_syntax_error PASSED             [ 98%]
tests/test_websocket.py::test_websocket_connection PASSED                [100%]

============================== warnings summary ===============================
tests\test_llm_real.py:6
  C:\Users\garla\git\chat-data-mcp-tools-ui\tests\test_llm_real.py:6: PytestUnknownMarkWarning: Unknown pytest.mark.real_llm - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.real_llm

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================== 55 passed, 1 skipped, 1 warning in 0.54s ===================
